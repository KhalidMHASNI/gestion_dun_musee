{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DarJ-Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="{%static 'css/panel.css'%}">
      <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
      <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>


<body>
<header>
    <div class="user">
      <div class="profile-pic-div">
        <img src="" id="photo">
        <input type="file" id="file">
        <label for="file" id="uploadBtn">Choisir Photo</label>
      </div>
        <!-- <img src="{%static  abonnee_data.10 %}" alt=""> -->
        <!-- <span class="fa-solid fa-user"></span> -->
        <h3 class="name">{{ abonnee_data.1 }} {{ abonnee_data.2 }}</h3>
        <p class="post">Abonné à Dar-J</p>
    </div>

    <nav class="navbar">
        <ul>
            <li><a href="#welcome">Status</a></li>
            <li><a href="#musee">À prpos du musée</a></li>
            <li><a href="#oeuvres">Oeuvres</a></li>
            <li><a href="#visit">Réserver visite</a></li>
            <li><a href="#param">Paramètres</a></li>
            <li><a class="fas fa-lock" href="logout">Se deconnecter &nbsp;</a></li>

        </ul>
    </nav>

</header>

<!-- header section ends -->

<div id="menu" class="fas fa-bars"></div>

<!-- welcome section starts  -->
<div class="alert alert-success m-2" id="popup" role="alert"> 
  {% for message in messages %} 
      <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
       {% if message.tags == 'error' %} 
      <script>
          swal({
              title: "Erreur :(",
              text: "Le mot de passe que vous avez entrer est incorrect ressayer",
              icon: "warning",
              buttons: true,
            });
      </script>                    
       {% elif message.tags == 'warning'%}
      <script>
          swal({
              title: "Erreur :(",
              text: "L'ancien nom ou prénom est eronné",
              icon: "warning",
              buttons: true,
            });
      </script>
      {% elif  message.tags == 'info'%}
      <script>
          swal({
              title: "Erreur :(",
              text: "Le mot de passe de confirmation ne correspond pas au premier mot de passe",
              icon: "warning",
              buttons: true,
            });
      </script>
       {% else %}
          <script>
              swal({
                  title: "Très Bien :)",
                  text: "Votre reservation a été créer avec succés",
                  icon: "success",
                  button: "OK",
                });
          </script>
       {% endif %}
  {% endfor %}
</div>  

<section class="home" id="welcome">

    <h3>HI THERE !</h3>
    <h1>Bonjour <span>{{ abonnee_data.1 }} {{ abonnee_data.2 }}</span></h1>
    <p>Nous sommes ravis de vous accueillir au musée! Nous espérons que votre expérience d'exploration sera inoubliable et remplie de découvertes passionnantes. Que ce soit pour une visite en groupe ou pour un moment de solitude, notre musée est là pour vous faire vivre des moments inoubliables. </p>
    <h3>Expiration d'abonnement en : <span style="color:green;">{{ abonnee_data.12 }} jours</span> </h3>
    <div id="btns">
      <a href="sedesabonne"><button class="btndes">Se désabonner<i class="fa-solid fa-right-from-bracket"></i></button></a>
    </div>

</section>

<!-- musee section starts -->

<section class="oeuvres" id="musee">
    <h1 class="heading"> <span>Dar Jamaï</span> </h1>
    <div class="row ">

        <div class="imgWrapper">
            <div class="contentWrapper2">
                <div class="content">
                    <span class="textWrapper">    
                        <span></span>
                    </span>
                    <h2>zOOM</h2>
                </div>
            </div>
            <img src="{%static 'img/album1.jpg'%}" alt="">
        
        </div>
       
        <div class="contentWrapper">
            <div class="content">
                <span class="textWrapper">    
                    <span></span>
                </span>
                <h2>À PROPOS DU MUSÉE</h2>
                <p>Le Musée Dar Jamaï est à l’origine une résidence privée construite en 1882. De type hispano-mauresque, ce majestueux palais constitue un spécimen des demeures des “familles du makhzen” marocaines de la fin du 19ème siècle.
                    Appartenant à Mohamed Ben Larbi Jamaï, grand vizir du Sultan Moulay Hassan 1er (1873 – 1894), cette vaste demeure a fini par être vendue au Glaoui de Marrakech, qui ne vint jamais y habiter. En 1912, les Français récupèrent la bâtisse, mais non pas pour y faire un musée. Ils aménagent un hôpital militaire dans sa partie centrale.
                    Ce n’est qu’en 1920 que le bâtiment est attribué dans sa totalité à l’Inspection régionale des Beaux-Arts qui le transforme en Musée, avec une importante galerie d’artisanat.
                    Depuis, Dar Jamaï est classé monument historique,
                    Le Musée Dar Jamaï est à l’origine une résidence privée construite en 1882. De type hispano-mauresque, ce majestueux palais constitue un spécimen des demeures des “familles du makhzen” marocaines de la fin du 19ème siècle.
                    Appartenant à Mohamed Ben Larbi Jamaï, grand vizir du Sultan Moulay Hassan 1er (1873 – 1894), cette vaste demeure a fini par être vendue au Glaoui de Marrakech, qui ne vint jamais y habiter. En 1912, les Français récupèrent la bâtisse, mais non pas pour y faire un musée. Ils aménagent un hôpital militaire dans sa partie centrale.
                    Ce n’est qu’en 1920 que le bâtiment est attribué dans sa totalité à l’Inspection régionale des Beaux-Arts qui le transforme en Musée, avec une importante galerie d’artisanat.
                    Depuis, Dar Jamaï est classé monument historique, et la majeure partie de sa collection est constituée d’objets datant du 19ème et du 20ème siècle.</p>
            </div>
        </div>
        <div class="imgWrapper2">
            <img src="{%static 'img/album2.jpg'%}" alt="">
        </div>
        <div class="imgWrapper2">
            <img src="{%static 'img/album3.jpg'%}" alt="">
        </div>
        
        
    </div>

</section>


<!-- Oeuvres section starts  -->

<section class="oeuvres" id="oeuvres">

<h1 class="heading"> <span>Oeuvres</span> </h1>

{% for oeuvres in oeuvre.all %}
    <div class="row ">
        <div class="imgWrapper">
            <img src="{{ oeuvres.image.url }}" alt="">
        </div>
        <div class="contentWrapper">
            <div class="content">
                <span class="textWrapper">
                    <span></span>Oeuvres
                </span>
                <h2>{{ oeuvres.titre }}</h2>
                <p>{{ oeuvres.notes }}</p>
            </div>
        </div>
    </div>
    {% endfor %}

</section>


<!-- visit section starts  -->

<section class="visit" id="visit">

<h1 class="heading"> <span>Réserver visite</span> </h1>

<div class="row">

    <div class="content">

        <h3 class="title">Infos</h3>

        <div class="info">
            <h3> <i class="fa fa-mail"></i> {{ abonnee_data.3 }}  </h3>
            <h3> <i class="fas fa-map-marker-alt"></i> Dar Jamai Museum، Place el-Hedime, Meknes </h3>
        </div>

    </div>

    <form action="reserver" method="post">
      {% csrf_token %}
      <fieldset>
        <h3 class="typevisite">visite est-elle guidé ?</h3>
        <br>
        <div class="containerGuide">
          <label class="labelGuide">
            <input type="radio" name="radio" value="non_guide" checked />
            <span>Non Guidé</span>
          </label>
          
          <label class="labelGuide">
            <input type="radio" name="radio" value="guide"/>
            <span>Guidé</span>
          </label>
      </div>
    
        <br>
      <input type="text" id="datepicker" name="datepicker" class="datepicker" placeholder="Date Réservable" autocomplete="off">
      <br>
      <button type="submit" class="btn"> Réserver<i class="fas fa-paper-plane"></i> </button>
  </form>

</div>

</section>

<section class="param" id="param">
  <h1 class="heading"> <span>Paramètres</span> </h1>

  <div class="row">
      <form action="modify_name_abonnee" method="post">
        {% csrf_token %}
        <h2>Modifier Nom & Prénom </h2>
        <!-- <input type="text" placeholder="Nom" class="box">    -->
        <div class="user-box">
          <input type="text" name="old_nom" required="">
          <label>Nom</label>
        </div>     
        <!-- <input type="text" placeholder="New Nom" class="box">  -->
        <div class="user-box">
          <input type="text" name="new_nom" required="">
          <label>New Nom</label>
        </div>  
        <!-- <input type="text" placeholder="Prénom" class="box">    -->
        <div class="user-box">
          <input type="text" name="old_prenom" required="">
          <label>Prénom</label>
        </div>          
        <!-- <input type="text" placeholder="New Prénom" class="box"> -->
        <div class="user-box">
          <input type="text" name="new_prenom" required="">
          <label>New Prénom</label>
        </div>
        <button type="submit" > Modifier Nom & Prénom<i class="fas fa-paper-plane"></i> </button>
    </form> 

    <form action="">

      <h2>Modifier Carte de crédit </h2>
      <!-- <input type="text" placeholder="Numéro carte" class="box"> -->
      <div class="user-box">
        <input type="text" name="" required="">
        <label>Numéro carte</label>
      </div>
      <!-- <input type="text" placeholder="New Numéro carte" class="box"> -->
      <div class="user-box">
        <input type="text" name="" required="">
        <label>New Numéro carte</label>
      </div>
      <button type="submit" > Modifier Numéro carte<i class="fas fa-paper-plane"></i> </button>


    </form>

    <form action="modify_passwd_abonnee" method="post">
      {% csrf_token %}
      <h2>Modifier Mot de passe </h2>
      <div class="user-box">
        <input type="password" name="old_pass" required="">
        <label>mdp</label>
      </div>
      <div class="user-box">
        <input type="password" name="new_pass" required="">
        <label>New mdp</label>
      </div>
      <div class="user-box">
        <input type="password" name="com_new_pass" required="">
        <label>confirmer</label>
      </div>
      <button type="submit"> Modifier Mot de passe <i class="fas fa-paper-plane"></i> </button>
    </form>


    <form action="modify_image_abonnee" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <h2>Modifier image de profil</h2>
      <input type="file" id="new_image" name="new_image" required>
      <button type="submit"> Modifier image <i class="fas fa-paper-plane"></i> </button>
    </form>


</div>



  
</section>
</body>

<script>
  $(document).ready(function(){
  var unavailableDates = JSON.parse('{{ formatted_dates|escapejs }}');
  var twoWeeksFromNow = new Date();
  twoWeeksFromNow.setDate(twoWeeksFromNow.getDate() + 14);
  $( "#datepicker" ).datepicker({
    minDate: 0,
    maxDate: "+14D",
    beforeShowDay: function(date){
      var string = jQuery.datepicker.formatDate('yy-mm-dd', date);
      return [ unavailableDates.indexOf(string) == -1 ]
    }
  });
});
</script>


<a href="#home" class="top">
    <img src="images/scroll-top-img.png" alt="">
</a>

<!-- jquery cdn link  -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

<!-- custom js file link  -->
<script src="{%static 'js/panel.js'%}"></script>
</html>